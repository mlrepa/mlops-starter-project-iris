{"spans": [{"trace_id": "J0U4bEP7CWZcpnCKtukXTw==", "span_id": "Zkjkv6IdEhk=", "trace_state": "", "parent_span_id": "", "name": "my_app", "start_time_unix_nano": 1750256264906981000, "end_time_unix_nano": 1750256265684076000, "attributes": {"mlflow.traceRequestId": "\"bd213e844d09474a837503a4004b8c5e\"", "mlflow.spanFunctionName": "\"my_app\"", "mlflow.spanType": "\"UNKNOWN\"", "mlflow.spanInputs": "{\"input\": \"What is MLflow?\"}"}, "events": [{"time_unix_nano": 1750256265684025000, "name": "exception", "attributes": {"exception.type": "openai.AuthenticationError", "exception.message": "Error code: 401 - {'error': {'message': 'Incorrect API key provided: 23. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/opentelemetry/trace/__init__.py\", line 589, in use_span\n    yield span\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/tracing/fluent.py\", line 478, in start_span\n    yield mlflow_span\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/tracing/fluent.py\", line 215, in _wrapping_logic\n    result = yield  # sync/async function output to be sent here\n             ^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/tracing/fluent.py\", line 251, in wrapper\n    return wrapping_coro.send(fn(*args, **kwargs))\n                              ^^^^^^^^^^^^^^^^^^^\n  File \"/var/folders/28/857wzr3d11bgp5fwm42fj6600000gn/T/ipykernel_14938/1756749474.py\", line 12, in my_app\n    response = client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/utils/autologging_utils/safety.py\", line 484, in safe_patch_function\n    patch_function(call_original, *args, **kwargs)\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/openai/autolog.py\", line 237, in patched_call\n    raw_result = original(self, *args, **kwargs)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/utils/autologging_utils/safety.py\", line 475, in call_original\n    return call_original_fn_with_event_logging(_original_fn, og_args, og_kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/utils/autologging_utils/safety.py\", line 426, in call_original_fn_with_event_logging\n    original_fn_result = original_fn(*og_args, **og_kwargs)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/utils/autologging_utils/safety.py\", line 472, in _original_fn\n    original_result = original(*_og_args, **_og_kwargs)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/openai/_utils/_utils.py\", line 287, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py\", line 925, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1249, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1037, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: 23. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}\n", "exception.escaped": "False"}}], "status": {"message": "AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: 23. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}", "code": "STATUS_CODE_ERROR"}}, {"trace_id": "J0U4bEP7CWZcpnCKtukXTw==", "span_id": "2e3Db4xL7UI=", "trace_state": "", "parent_span_id": "Zkjkv6IdEhk=", "name": "Completions", "start_time_unix_nano": 1750256264907356000, "end_time_unix_nano": 1750256265682725000, "attributes": {"mlflow.traceRequestId": "\"bd213e844d09474a837503a4004b8c5e\"", "model": "\"gpt-4o-mini\"", "mlflow.spanType": "\"CHAT_MODEL\"", "mlflow.spanInputs": "{\"model\": \"gpt-4o-mini\", \"messages\": [{\"role\": \"system\", \"content\": \"You are a helpful assistant.\"}, {\"role\": \"user\", \"content\": \"What is MLflow?\"}]}"}, "events": [{"time_unix_nano": 1750256265682591, "name": "exception", "attributes": {"exception.message": "Error code: 401 - {'error': {'message': 'Incorrect API key provided: 23. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}", "exception.type": "AuthenticationError", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/openai/autolog.py\", line 237, in patched_call\n    raw_result = original(self, *args, **kwargs)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/utils/autologging_utils/safety.py\", line 475, in call_original\n    return call_original_fn_with_event_logging(_original_fn, og_args, og_kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/utils/autologging_utils/safety.py\", line 426, in call_original_fn_with_event_logging\n    original_fn_result = original_fn(*og_args, **og_kwargs)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/mlflow/utils/autologging_utils/safety.py\", line 472, in _original_fn\n    original_result = original(*_og_args, **_og_kwargs)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/openai/_utils/_utils.py\", line 287, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py\", line 925, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1249, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/plinphon/HSclasses/M12_MLOps/experiments-for-modern-ai-and-mlops/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1037, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: 23. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}"}}], "status": {"message": "", "code": "STATUS_CODE_ERROR"}}]}
